<div class="container mt-5">
  <div class="card">
    <div class="d-flex justify-content-between p-3">
      <div class="image">
        <span class="logo"></span>
      </div>
      <div class="test-header">
        <h4>Angular Test</h4>
        <!--needs to edi -->
        <span>Welcome {{ name }}!</span>
      </div>
    </div>
    <ng-container *ngIf="!isCompleted">
      <div class="d-flex justify-content-around py-3">
        <div class="question-remaining">
          <span style="font-style: italic"
            >Question {{ currentQuestion + 1 }} of
            {{ questionList.length }}</span
          >
        </div>
        <div class="timer">
          <h5 style="font-style: italic">
            {{ counter }} sec <i class="fa fa-clock-o" aria-hidden="true"></i>
          </h5>
        </div>
      </div>
      <div class="progress mb-3"></div>
      <div class="question">
        <div class="card">
          <h4>{{ questionList[currentQuestion]?.questionText }}</h4>
        </div>
      </div>
      <div class="options">
        <ol *ngFor="let option of questionList[currentQuestion]?.options">
          <li (click)="answer(currentQuestion + 1, option)">
            <div class="card">
              {{ option.text }}
            </div>
          </li>
        </ol>
      </div>
      <div class="d-flex justify-content-between">
        <button
          [disabled]="currentQuestion < 1"
          class="btn"
          (click)="previousQuestion()"
        >
          <i
            class="fa text-success fa-chevron-left fa-2x"
            aria-hidden="true"
          ></i>
        </button>
        <span></span>
        <button
          [disabled]="currentQuestion > 9"
          class="btn"
          (click)="nextQuestion()"
        >
          <i
            class="fa text-success fa-chevron-right fa-2x"
            aria-hidden="true"
          ></i>
        </button>
      </div>
    </ng-container>
    <ng-container *ngIf="isCompleted">
      <div class="card text-center">
        <div class="card-header"><h3>Result</h3></div>
        <div class="card-body">
          <h2>Congratulation, you have completed the test.</h2>
          <ng-container *ngIf="isPassed">
            <h2 class="card-text passed">{{ msg }}</h2>
            <i class="fa-regular fa-trophy-star"></i>
          </ng-container>
          <ng-container *ngIf="!isPassed">
            <h2 class="card-text notpass">{{ msg }}</h2>
          </ng-container>
          <a
            routerLink="welcome-page"
            class="btn btn-success"
            value="startover()"
            (click)="startover()"
            >Start over</a
          >

          <router-outlet></router-outlet>
        </div>
        <div class="card-footer text-muted">
          <div class="d-flex justify-content-around py-3">
            <div class="score">
              <h5>Total points: {{ points }}</h5>
            </div>
          </div>
          <div class="score">
            <h5>Total correct answer: {{ currectAnswer }}</h5>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>
